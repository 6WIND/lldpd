<!doctype html>
<html class="no-js" lang="en">
<head>
  <meta charset="utf-8">
    <title>lldpd Â» implementation of IEEE 802.1ab | Usage</title>
    <meta name="keywords" content="lldpd, 802.1ab, network, discovery, cdp, edp, snmp">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <link rel="canonical" href="https://vincentbernat.github.com/lldpd//usage.html">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Inconsolata|Libre+Baskerville:400,400italic,700" type="text/css">
  <link rel="stylesheet" href="media/css/lldpd.5eea0d2a.css" type="text/css">
  <script src="media/js/mp.90e9fc11.js"></script>
</head>
<body>

  <a class="github-forkme" href="https://github.com/vincentbernat/lldpd">
    <img src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"
         alt="Fork me on GitHub">
  </a>

  <nav>

  <p class="tagline">
    <em>lldpd</em> is a 802.1ab implementation (LLDP) to
    help you locate neighbors of all your equipments.
  </p>

  <ul>
    <li><a href="/lldpd/index.html">Overview</a></li>
    <li><a href="/lldpd/features.html">Features</a></li>
    <li><a href="/lldpd/installation.html">Installation</a></li>
    <li><a href="/lldpd/usage.html">Usage</a></li>
  </ul>
</nav>

  <article>
    <div role="main">
            <header>
        <h1>Usage</h1>
      </header>
      
      <p><code>lldpd</code> comes with two parts: a daemon (<code>lldpd</code>) sending and receiving
<span class="caps">LLDP</span> advertisements and a client (<code>lldpcli</code>) to query and configure
the daemon. Both parts are documented in their manual&nbsp;pages:</p>
<div class="toc">
<ul>
<li><a href="#lldpd8">lldpd.8</a></li>
<li><a href="#lldpcli8">lldpcli.8</a></li>
</ul>
</div>
<h1 id="lldpd8">lldpd.8</h1>
<p>Here is the manual page for <code>lldpd</code> (version&nbsp;0.7.1):</p>
<div class='manpage'><span class="caps">LLDPD</span>(8)                  <span class="caps">BSD</span> System Manager&#8217;s Manual                 <span class="caps">LLDPD</span>(8)<br><br><b><span class="caps">NAME</span></b><br>     <b>lldpd</b> &#8212; <span class="caps">LLDP</span> daemon<br><br><b><span class="caps">SYNOPSIS</span></b><br>     <b>lldpd</b> [<b>-dxcseiklrv</b>] [<b>-D</b> <u>debug</u>] [<b>-S</b> <u>description</u>] [<b>-P</b> <u>platform</u>] [<b>-X</b> <u>socket</u>]<br>           [<b>-m</b> <u>management</u>] [<b>-I</b> <u>interfaces</u>] [<b>-C</b> <u>interfaces</u>] [<b>-M</b> <u>class</u>]<br>           [<b>-H</b> <u>hide</u>]<br><br><b><span class="caps">DESCRIPTION</span></b><br>     <b>lldpd</b> is a daemon able to receive and send <u><span class="caps">LLDP</span></u> frames. The Link Layer<br>     Discovery Protocol is a vendor-neutral Layer 2 protocol that allows a<br>     network device to advertise its identity and capabilities on the local<br>     network.<br><br>     <b>lldpd</b> also implements an <span class="caps">SNMP</span> subagent using AgentX protocol to interface<br>     to a regular <span class="caps">SNMP</span> agent like Net-<span class="caps">SNMP</span>. To enable this subagent, you need<br>     something like that in your snmpd.conf(5):<br><br>           master agentx<br><br>     This daemon implements both reception and sending. It will collect vari-<br>     ous information to send <span class="caps">LLDP</span> frames to all Ethernet interfaces, including<br>     management address, speed and <span class="caps">VLAN</span> names.<br><br>     The options are as follows:<br><br>     <b>-d</b>      Do not daemonize.  If this option is specified, <b>lldpd</b> will run in<br>             the foreground and log to <u>stderr</u>.  This option can be specified<br>             many times to increase verbosity. When specified three times,<br>             debug logs will be enabled. They can be filtered with <b>-D</b> flag.<br><br>     <b>-D</b> <u>debug</u><br>             This option allows the user to filter out debugging information<br>             by specifying allowed tokens. This option can be repeated several<br>             times to allow several tokens. This option must be combined with<br>             the <b>-d</b> flag to have some effect. Only debugging logs can be fil-<br>             tered. Here is a list of allowed tokens with their description:<br>                 <b>main</b>        Main daemon.<br>                 <b>interfaces</b>  Discovery of local interfaces.<br>                 <b>lldp</b>        <span class="caps">LLDP</span> <span class="caps">PDU</span> encoding/decoding.<br>                 <b>edp</b>         <span class="caps">EDP</span> <span class="caps">PDU</span> encoding/decoding.<br>                 <b>cdp</b>         <span class="caps">CDP</span>/<span class="caps">FDP</span> <span class="caps">PDU</span> encoding/decoding.<br>                 <b>sonmp</b>       <span class="caps">SONMP</span> <span class="caps">PDU</span> encoding/decoding.<br>                 <b>event</b>       Events management.<br>                 <b>libevent</b>    Events management but for logs generated by<br>                             libevent.<br>                 <b>privsep</b>     Privilege separation.<br>                 <b>localchassis</b><br>                             Retrieval of information related to the local<br>                             chassis.<br>                 <b>rpc</b>         Client communication.<br>                 <b>control</b>     Management of the Unix control socket.<br>                 <b>snmp</b>        <span class="caps">SNMP</span> subagent.<br>                 <b>libsnmp</b>     <span class="caps">SNMP</span> subagent but for logs generated by NetSNMP.<br>                 <b>decode</b>      Generic <span class="caps">PDU</span> decoding.<br>                 <b>marshal</b>     Low-level serialization mechanisms.<br>                 <b>alloc</b>       Low-level allocation mechanisms.<br>                 <b>send</b>        Sending <span class="caps">PDU</span> to some interface.<br>                 <b>receive</b>     Receiving <span class="caps">PDU</span> from some interface.<br>                 <b>loop</b>        Main loop.<br>                 <b>smartfilter</b><br>                             Smart filtering of different protocols on the<br>                             same port.<br>                 <b>netlink</b>     Netlink subsystem.<br><br>     <b>-k</b>      Disable advertising of kernel release, version and machine. Ker-<br>             nel name (ie: Linux) will still be shared, and Inventory software<br>             version will be set to &#8216;Unknown&#8217;.<br><br>     <b>-S</b> <u>description</u><br>             Override system description with the provided description. The<br>             default description is the kernel name, the node name, the kernel<br>             version, the build date and the architecture (except if you use<br>             the <b>-k</b> flag described above).<br><br>     <b>-P</b> <u>platform</u><br>             Override the <span class="caps">CDP</span> platform name with the provided value. The<br>             default description is the kernel name (Linux).<br><br>     <b>-x</b>      Enable <span class="caps">SNMP</span> subagent.  With this option, <b>lldpd</b> will enable an<br>             <span class="caps">SNMP</span> subagent using AgentX protocol. This allows you to get<br>             information about local system and remote systems through <span class="caps">SNMP</span>.<br><br>     <b>-X</b> <u>socket</u><br>             Enable <span class="caps">SNMP</span> subagent using the specified socket.  <b>lldpd</b> will<br>             enable an <span class="caps">SNMP</span> subagent using AgentX protocol for the given<br>             socket. This option implies the previous one. The default socket<br>             is usally <u>/var/agentx/master</u>.  You can specify a socket like<br>             <u>tcp:127.0.0.1:705</u> for example. Since the process that will open<br>             this socket is enclosed in a chroot, you need to specify an <span class="caps">IP</span><br>             address (not a hostname) when using a <span class="caps">TCP</span> or <span class="caps">UDP</span> socket.<br><br>     <b>-c</b>      Enable the support of <span class="caps">CDP</span> protocol to deal with Cisco routers<br>             that do not speak <span class="caps">LLDP</span>. If repeated, CDPv1 packets will be sent<br>             even when there is no <span class="caps">CDP</span> peer detected.<br><br>     <b>-f</b>      Enable the support of <span class="caps">FDP</span> protocol to deal with Foundry routers<br>             that do not speak <span class="caps">LLDP</span>. If repeated, <span class="caps">FDP</span> packets will be sent<br>             even when there is no <span class="caps">FDP</span> peer detected.<br><br>     <b>-s</b>      Enable the support of <span class="caps">SONMP</span> protocol to deal with Nortel routers<br>             and switches that do not speak <span class="caps">LLDP</span>. If repeated, <span class="caps">SONMP</span> packets<br>             will be sent even when there is no <span class="caps">SONMP</span> peer detected.<br><br>     <b>-e</b>      Enable the support of <span class="caps">EDP</span> protocol to deal with Extreme routers<br>             and switches that do not speak <span class="caps">LLDP</span>. If repeated, <span class="caps">EDP</span> packets<br>             will be sent even when there is no <span class="caps">EDP</span> peer detected.<br><br>     <b>-l</b>      Force to send <span class="caps">LLDP</span> packets even when there is no <span class="caps">LLDP</span> peer<br>             detected but there is a peer speaking another protocol detected.<br>             By default, <span class="caps">LLDP</span> packets are sent when there is a peer speaking<br>             <span class="caps">LLDP</span> detected or when there is no peer at all. If repeated, <span class="caps">LLDP</span><br>             is disabled.<br><br>     <b>-r</b>      Receive-only mode. With this switch, <b>lldpd</b> will not send any<br>             frame. It will only listen to neighbors.<br><br>     <b>-m</b> <u>management</u><br>             Specify the management addresses of this system. As for inter-<br>             faces (described below), this option can use wildcards and inver-<br>             sions.  Without this option, the first IPv4 and the first IPv6<br>             are used. If only negative patterns are provided, only one IPv4<br>             and one IPv6 addresses are choosen. Otherwise, many of them can<br>             be selected. If you want to blacklist IPv6 addresses, you can use<br>             <u>!*:*</u>.<br><br>     <b>-I</b> <u>interfaces</u><br>             Specify which interface to listen to. Without this option, <b>lldpd</b><br>             will listen on all available interfaces. This option can use<br>             wildcards. Several interfaces can be specified separated by com-<br>             mas.  It is also possible to blacklist an interface by suffixing<br>             it with an exclamation mark. When an interface is both specified<br>             with and without an exclamation mark, it is blacklisted. For<br>             example, with <u>eth*,!eth1,!eth2</u> <b>lldpd</b> will only listen to inter-<br>             faces starting by <u>eth</u> with the exception of <u>eth1</u> and <u>eth2</u>.<br><br>     <b>-C</b> <u>interfaces</u><br>             Specify which interfaces to use for computing chassis <span class="caps">ID</span>. Without<br>             this option, all interfaces are considered.  <b>lldpd</b> will take the<br>             first <span class="caps">MAC</span> address from all the considered interfaces to compute<br>             the chassis <span class="caps">ID</span>. The logic of this option is the same as for <b>-I</b><br>             flag: you can exclude interfaces with an exclamation mark and use<br>             globbing to specify several interfaces. If all interfaces are<br>             blacklisted (with <u>!*</u>), the system name is used as a chassis <span class="caps">ID</span><br>             instead.<br><br>     <b>-M</b> <u>class</u><br>             Enable emission of <span class="caps">LLDP</span>-<span class="caps">MED</span> frame. The class should be one of the<br>             following value:<br>             <b>1</b>     Generic Endpoint (Class I)<br>             <b>2</b>     Media Endpoint (Class <span class="caps">II</span>)<br>             <b>3</b>     Communication Device Endpoints (Class <span class="caps">III</span>)<br>             <b>4</b>     Network Connectivity Device<br><br>     <b>-i</b>      Disable <span class="caps">LLDP</span>-<span class="caps">MED</span> inventory <span class="caps">TLV</span> transmission.  <b>lldpd</b> will still<br>             receive (and publish using <span class="caps">SNMP</span> if enabled) those <span class="caps">LLDP</span>-<span class="caps">MED</span> <span class="caps">TLV</span><br>             but will not send them. Use this option if you don&#8217;t want to<br>             transmit sensible information like serial numbers.<br><br>     <b>-H</b> <u>hide</u><br>             Filter neighbors. See section <u><span class="caps">FILTERING</span></u> <u><span class="caps">NEIGHBORS</span></u> for details.<br><br>     <b>-v</b>      Show <b>lldpd</b> version.<br><br><b><span class="caps">FILTERING</span></b> <b><span class="caps">NEIGHBORS</span></b><br>     In a heterogeneous network, you may see several different hosts on the<br>     same port, even if there is only one physically plugged to this port. For<br>     example, if you have a Nortel switch running <span class="caps">LLDP</span> which is plugged to a<br>     Cisco switch running <span class="caps">CDP</span> and your host is plugged to the Cisco switch,<br>     you will see the Nortel switch as well because <span class="caps">LLDP</span> frames are forwarded<br>     by the Cisco switch. This may not be what you want. The <b>-H</b> <u>hide</u> parameter<br>     will allow you to tell <b>lldpd</b> to discard some frames that it receives and<br>     to avoid to send some other frames.<br><br>     Incoming filtering and outgoing filtering are unrelated. Incoming filter-<br>     ing will hide some remote ports to get you a chance to know exactly what<br>     equipment is on the other side of the network cable. Outgoing filtering<br>     will avoid to use some protocols to avoid flooding your network with a<br>     protocol that is not handled by the nearest equipment. Keep in mind that<br>     even without filtering, <b>lldpd</b> will speak protocols for which at least one<br>     frame has been received and <span class="caps">LLDP</span> otherwise (there are other options to<br>     change this behaviour, for example <b>-cc</b>, <b>-ss</b>, <b>-ee</b>, <b>-ll</b> and <b>-ff</b> ).<br><br>     When enabling incoming filtering, <b>lldpd</b> will try to select one protocol<br>     and filter out neighbors using other protocols. To select this protocol,<br>     the rule is to take the less used protocol. If on one port, you get 12<br>     <span class="caps">CDP</span> neighbors and 1 <span class="caps">LLDP</span> neighbor, this mean that the remote switch<br>     speaks <span class="caps">LLDP</span> and does not filter <span class="caps">CDP</span>. Therefore, we select <span class="caps">LLDP</span>. When<br>     enabling outgoing filtering, <b>lldpd</b> will also try to select one protocol<br>     and only speaks this protocol. The filtering is done per port. Each port<br>     may select a different protocol.<br><br>     There are two additional criteria when enabling filtering: allowing one<br>     or several protocols to be selected (in case of a tie) and allowing one<br>     or several neighbors to be selected. Even when allowing several proto-<br>     cols, the rule of selecting the protocols with the less neighbors still<br>     apply. If <b>lldpd</b> selects <span class="caps">LLDP</span> and <span class="caps">CDP</span>, this means they have the same num-<br>     ber of neighbors. The selection of the neighbor is random. Incoming fil-<br>     tering will select a set of neighbors to be displayed while outgoing fil-<br>     tering will use the selected set of neighbors to decide which protocols<br>     to use: if a selected neighbor speaks <span class="caps">LLDP</span> and another one <span class="caps">CDP</span>, <b>lldpd</b><br>     will speak both <span class="caps">CDP</span> and <span class="caps">LLDP</span> on this port.<br><br>     There are some corner cases. A typical example is a switch speaking two<br>     protocols (<span class="caps">CDP</span> and <span class="caps">LLDP</span> for example). You want to get the information<br>     from the best protocol but you want to speak both protocols because some<br>     tools use the <span class="caps">CDP</span> table and some other the <span class="caps">LLDP</span> table.<br><br>     The table below summarize all accepted values for the <b>-H</b> <u>hide</u> parameter.<br>     The default value is <u>15</u> which corresponds to the corner case described<br>     above. The <u>filter</u> column means that filtering is enabled. The <u>1proto</u> col-<br>     umn tells that only one protocol will be kept. The <u>1neigh</u> column tells<br>     that only one neighbor will be kept.<br><br>                        incoming                outgoing<br>                <u>filter</u>  <u>1proto</u>  <u>1neigh</u>  <u>filter</u>  <u>1proto</u>  <u>1neigh</u><br>           <u>0</u><br>           <u>1</u>    x       x               x       x<br>           <u>2</u>    x       x<br>           <u>3</u>                            x       x<br>           <u>4</u>    x                       x<br>           <u>5</u>    x<br>           <u>6</u>                            x<br>           <u>7</u>    x       x       x       x       x<br>           <u>8</u>    x       x       x<br>           <u>9</u>    x               x       x       x<br>           <u>10</u>                           x               x<br>           <u>11</u>   x               x<br>           <u>12</u>   x               x       x               x<br>           <u>13</u>   x               x       x<br>           <u>14</u>   x       x               x               x<br>           <u>15</u>   x       x               x<br>           <u>16</u>   x       x       x       x               x<br>           <u>17</u>   x       x       x       x<br>           <u>18</u>   x                       x               x<br>           <u>19</u>   x                       x       x<br><br><b><span class="caps">FILES</span></b><br>     /var/run/lldpd.socket    Unix-domain socket used for communication with<br>                              lldpctl(8).<br><br><b><span class="caps">SEE</span></b> <b><span class="caps">ALSO</span></b><br>     lldpctl(8), snmpd(8)<br><br><b><span class="caps">HISTORY</span></b><br>     The <b>lldpd</b> program is inspired from a preliminary work of Reyk Floeter.<br><br><b><span class="caps">AUTHORS</span></b><br>     The <b>lldpd</b> program was written by Pierre-Yves Ritschard &lt;pyr@openbsd.org&gt;,<br>     and Vincent Bernat &lt;bernat@luffy.cx&gt;.<br><br><span class="caps">BSD</span>                            January 13, 2013                            <span class="caps">BSD</span><br></div>

<h1 id="lldpcli8">lldpcli.8</h1>
<p>Here is the manual page for <code>lldpcli</code> and <code>lldpctl</code> (version&nbsp;0.7.1):</p>
<div class='manpage'><span class="caps">LLDPCLI</span>(8)                <span class="caps">BSD</span> System Manager&#8217;s Manual               <span class="caps">LLDPCLI</span>(8)<br><br><b><span class="caps">NAME</span></b><br>     <b>lldpcli</b>, <b>lldpctl</b> &#8212; control <span class="caps">LLDP</span> daemon<br><br><b><span class="caps">SYNOPSIS</span></b><br>     <b>lldpcli</b> [<b>-dv</b>] [<b>-f</b> <u>format</u>] [<u>command</u> <u>&#8230;</u>]<br>     <b>lldpctl</b> [<b>-dv</b>] [<b>-f</b> <u>format</u>] [<u>interfaces</u> <u>&#8230;</u>]<br><br><b><span class="caps">DESCRIPTION</span></b><br>     The <b>lldpcli</b> program controls lldpd(8) daemon.<br><br>     When no command is specified, <b>lldpcli</b> will start an interactive shell<br>     which can be used to input arbitrary commands as if they were specified<br>     on the command line. This interactive shell should provide completion and<br>     history support.<br><br>     The options are as follows:<br><br>     <b>-d</b>      Enable more debugging information.<br><br>     <b>-v</b>      Show <b>lldpcli</b> version.<br><br>     <b>-f</b> <u>format</u><br>             Choose the output format. Currently <u>plain</u>, <u>xml</u>, <u>json</u> and <u>keyvalue</u><br>             formats are available. The default is <u>plain</u>.<br><br><br>     When invoked as <b>lldpctl</b>, <b>lldpcli</b> will display detailed information about<br>     each neighbors on the specified interfaces or on all interfaces if none<br>     are specified. This command is mostly kept for backward compatibility<br>     with older versions.<br><br><br>     The following commands are supported by <b>lldpcli</b>.  When there is no ambi-<br>     guity, the keywords can be abbreviated. For example, <b>show</b> <b>neighbors</b> <b>ports</b><br>     <b>eth0</b> <b>summary</b> and <b>sh</b> <b>neigh</b> <b>p</b> <b>eth0</b> <b>sum</b> are the same command.<br><br><br>       <b>exit</b><br><br>             Quit <b>lldpcli</b>.<br><br>       <b>show</b> <b>neighbors</b> [ports <u>ethX</u> [,&#8230;]] [<b>details</b> | <b>summary</b>] [<b>hidden</b>]<br><br>             Display information about each neighbor known by lldpd(8) daemon.<br>             With <b>summary</b>, only a the name and the port description of each<br>             remote host will be displayed. On the other hand, with <b>details</b>,<br>             all available information will be displayed, giving a verbose<br>             view. When using <b>hidden</b>, also display remote ports hidden by the<br>             smart filter. When specifying one or several ports, the informa-<br>             tion displayed is limited to the given list of ports.<br><br>       <b>watch</b> [ports <u>ethX</u> [,&#8230;]] [<b>details</b> | <b>summary</b>] [<b>hidden</b>]<br><br>             Watch for any neighbor changes and report them as soon as they<br>             happen. When specifying ports, the changes are only reported when<br>             happening on the given ports.  <b>hidden</b>, <b>summary</b> and <b>details</b> have<br>             the same meaning than previously described.<br><br>       <b>show</b> <b>configuration</b><br><br>             Display global configuration of lldpd(8) daemon.<br><br>       <b>update</b><br><br>             Make lldpd(8) update its information and send new <span class="caps">LLDP</span> <span class="caps">PDU</span> on all<br>             interfaces.<br><br>       <b>configure</b> [ports <u>ethX</u> [,&#8230;]] <b>med</b> <b>location</b> <b>coordinate</b> <b>latitude</b> <u>latitude</u><br>       <b>longitude</b> <u>longitude</u> <b>altitude</b> <u>altitude</u> <u>unit</u> <b>datum</b> <u>datum</u><br><br>             Advertise a coordinate based location on the given ports (or on<br>             all ports if no port is specified). The format of <u>latitude</u> is a<br>             decimal floating point number followed either by <u>N</u> or <u>S</u>.  The<br>             format of <u>longitude</u> is a decimal floating point number followed<br>             either by <u>E</u> or <u>W</u>.  <u>altitude</u> is a decimal floating point number<br>             followed either by <u>m</u> when expressed in meters or <u>f</u> when expressed<br>             in floors.  <u>datum</u> is one of those values:<br>                     &raquo;   <span class="caps">WGS84</span><br>                     &raquo;   <span class="caps">NAD83</span><br>                     &raquo;   <span class="caps">NAD83</span>/<span class="caps">MLLW</span><br><br>             A valid use of this command is:<br>                   configure ports eth0 med location coordinate latitude<br>                   48.85667N longitude 2.2014E altitude 117.47m datum <span class="caps">WGS84</span><br><br>       <b>configure</b> [ports <u>ethX</u> [,&#8230;]] <b>med</b> <b>location</b> <b>address</b> <b>country</b> <u>country</u><br>       [<u>type</u> <u>value</u> [&#8230;]]<br><br>             Advertise a civic address on the given ports (or on all ports if<br>             no port is specified).  <u>country</u> is the two-letter code represent-<br>             ing the country. The remaining arguments should be paired to form<br>             the address. The first member of each pair indicates the type of<br>             the second member which is a free-form text. Here is the list of<br>             valid types:<br>                     &raquo;   language<br>                     &raquo;   country-subdivision<br>                     &raquo;   county<br>                     &raquo;   city<br>                     &raquo;   city-division<br>                     &raquo;   block<br>                     &raquo;   street<br>                     &raquo;   direction<br>                     &raquo;   trailing-street-suffix<br>                     &raquo;   street-suffix<br>                     &raquo;   number<br>                     &raquo;   number-suffix<br>                     &raquo;   landmark<br>                     &raquo;   additional<br>                     &raquo;   name<br>                     &raquo;   zip<br>                     &raquo;   building<br>                     &raquo;   unit<br>                     &raquo;   floor<br>                     &raquo;   room<br>                     &raquo;   place-type<br>                     &raquo;   script<br><br>             A valid use of this command is:<br>                   configure ports eth1 med location address <span class="caps">US</span> street<br>                   &#8220;Commercial Road&#8221; city &#8220;Roseville&#8221;<br><br>       <b>configure</b> [ports <u>ethX</u> [,&#8230;]] <b>med</b> <b>location</b> <b>elin</b> <u>number</u><br><br>             Advertise the availability of an <span class="caps">ELIN</span> number. This is used for<br>             setting up emergency call. If the provided number is too small,<br>             it will be padded with 0. Here is an example of use:<br>                   configure ports eth2 med location elin 911<br><br>       <b>configure</b> [ports <u>ethX</u> [,&#8230;]] <b>med</b> <b>policy</b> <b>application</b> <u>application</u><br>       [<b>unknown</b>] [<b>vlan</b> <u>vlan</u>] [<b>priority</b> <u>priority</u>] [<b>dscp</b> <u>dscp</u>]<br><br>             Advertise a specific network policy for the given ports (or for<br>             all ports if no port was provided). Only the application type is<br>             mandatory.  <u>application</u> should be one of the following values:<br>             static const struct value_string port_med_policy_map[] = {<br>                     &raquo;   voice<br>                     &raquo;   voice-signaling<br>                     &raquo;   guest-voice<br>                     &raquo;   guest-voice-signaling<br>                     &raquo;   softphone-voice<br>                     &raquo;   video-conferencing<br>                     &raquo;   streaming-video<br>                     &raquo;   video-signaling<br><br>             The <b>unknown</b> flag tells that the network policy for the specified<br>             application type is required by the device but is currently<br>             unknown. This is used by Endpoint Devices, not by Network Connec-<br>             tivity Devices. If not specified, the network policy for the<br>             given application type is defined.<br><br>             When a <span class="caps">VLAN</span> is specified with <b>vlan</b> tells which 802.1q <span class="caps">VLAN</span> <span class="caps">ID</span> has<br>             to be advertised for the network policy. A valid value is between<br>             1 and 4094.  <b>priority</b> allows one to specify <span class="caps">IEEE</span> 802.1d / <span class="caps">IEEE</span><br>             802.1p Layer 2 Priority, also known as Class of Service (CoS), to<br>             be used for the specified application type. It should be one of<br>             those values:<br>                     &raquo;   background<br>                     &raquo;   spare<br>                     &raquo;   best-effort<br>                     &raquo;   excellent-effort<br>                     &raquo;   controlled-load<br>                     &raquo;   video<br>                     &raquo;   voice<br>                     &raquo;   network-control<br><br>             <u>dscp</u> represents the <span class="caps">DSCP</span> value to be advertised for the given<br>             network policy.  DiffServ/Differentiated Services Code Point<br>             (<span class="caps">DSCP</span>) value as defined in <span class="caps">IETF</span> <span class="caps">RFC</span> 2474 for the specified appli-<br>             cation type. Value: 0 (default per <span class="caps">RFC</span> 2475) through 63. Note:<br>             The class selector <span class="caps">DSCP</span> values are backwards compatible for<br>             devices that only support the old <span class="caps">IP</span> precedence Type of Service<br>             (ToS) format. (See the RFCs for what these values mean)<br><br>             A valid use of this command is:<br>                   configure med policy application voice vlan 500 priority<br>                   voice dscp 46<br><br>       <b>configure</b> [ports <u>ethX</u> [,&#8230;]] <b>med</b> <b>power</b> <b>pse</b> | <b>pd</b> <b>source</b> <u>source</u> <b>priority</b><br>       <u>priority</u> <b>value</b> <u>value</u><br><br>             Advertise the <span class="caps">LLDP</span>-<span class="caps">MED</span> <span class="caps">POE</span>-<span class="caps">MDI</span> <span class="caps">TLV</span> for the given ports or for all<br>             interfaces if no port is provided.  One can act as a <span class="caps">PD</span> (power<br>             consumer) or a <span class="caps">PSE</span> (power provider). No check is done on the<br>             validity of the parameters while <span class="caps">LLDP</span>-<span class="caps">MED</span> requires some restric-<br>             tions:<br><br>             &raquo;   <span class="caps">PD</span> shall never request more power than physical 802.3af<br>                 class.<br><br>             &raquo;   <span class="caps">PD</span> shall never draw more than the maximum power advertised by<br>                 <span class="caps">PSE</span>.<br><br>             &raquo;   <span class="caps">PSE</span> shall not reduce power allocated to <span class="caps">PD</span> when this power is<br>                 in use.<br><br>             &raquo;   <span class="caps">PSE</span> may request reduced power using conservation mode<br><br>             &raquo;   Being <span class="caps">PSE</span> or <span class="caps">PD</span> is a global paremeter, not a per-port parame-<br>                 ter.  <b>lldpcli</b> does not enforce this: a port can be set as <span class="caps">PD</span><br>                 or <span class="caps">PSE</span>. <span class="caps">LLDP</span>-<span class="caps">MED</span> also requires for a <span class="caps">PSE</span> to only have one<br>                 power source (primary or backup). Again, <b>lldpcli</b> does not<br>                 enforce this. Each port can have its own power source. The<br>                 same applies for <span class="caps">PD</span> and power priority. <span class="caps">LLDP</span>-<span class="caps">MED</span> <span class="caps">MIB</span> does not<br>                 allow this kind of representation.<br><br>             Valid types are:<br>               <b>pse</b>   Power Sourcing Entity (power provider)<br>               <b>pd</b>    Power Device (power consumer)<br><br>             Valid sources are:<br>               <b>unknown</b>  Unknown<br>               <b>primary</b>  For <span class="caps">PSE</span>, the power source is the primary power source.<br>               <b>backup</b>   For <span class="caps">PSE</span>, the power source is the backup power source<br>                        or a power conservation mode is asked (the <span class="caps">PSE</span> may be<br>                        running on <span class="caps">UPS</span> for example).<br>               <b>pse</b>      For <span class="caps">PD</span>, the power source is the <span class="caps">PSE</span>.<br>               <b>local</b>    For <span class="caps">PD</span>, the power source is a local source.<br>               <b>both</b>     For <span class="caps">PD</span>, the power source is both the <span class="caps">PSE</span> and a local<br>                        source.<br><br>             Valid priorities are:<br>               <b>unknown</b>    Unknown priority<br>               <b>critical</b>   Critical<br>               <b>high</b>       High<br>               <b>low</b>        Low<br><br>             <u>value</u> should be the total power in milliwatts required by the <span class="caps">PD</span><br>             device or available by the <span class="caps">PSE</span> device.<br><br>             Here is an example of use:<br>                   configure med power pd source pse priority high value 5000<br><br>       <b>configure</b> [ports <u>ethX</u> [,&#8230;]] <b>dot3</b> <b>power</b> <b>pse</b> | <b>pd</b> [<b>supported</b>] [<b>enabled</b>]<br>       [<b>paircontrol</b>] <b>powerpairs</b> <u>powerpairs</u> [<b>class</b> <u>class</u>] [<b>type</b> <u>type</u> <b>source</b><br>       <u>source</u> <b>priority</b> <u>priority</u> <b>requested</b> <u>requested</u> <b>allocated</b> <u>allocated</u>]<br><br>             Advertise Dot3 <span class="caps">POE</span>-<span class="caps">MDI</span> <span class="caps">TLV</span> for the given port or for all ports if<br>             none was provided. One can act as a <span class="caps">PD</span> (power consumer) or a <span class="caps">PSE</span><br>             (power provider). This configuration is distinct of the configu-<br>             ration of the transmission of the <span class="caps">LLDP</span>-<span class="caps">MED</span> <span class="caps">POE</span>-<span class="caps">MDI</span> <span class="caps">TLV</span> but the<br>             user should ensure the coherency of those two configurations if<br>             they are used together.<br><br>             <u>supported</u> means that <span class="caps">MDI</span> power is supported on the given port<br>             while <u>enabled</u> means that <span class="caps">MDI</span> power is enabled.  <u>paircontrol</u> is<br>             used to indicate if pair selection can be controlled. Valid val-<br>             ues forr <u>powerpairs</u> are:<br>               <b>signal</b>  The signal pairs only are in use.<br>               <b>spare</b>   The spare pairs only are in use.<br><br>             When specified, <u>class</u> is a number between 0 and 4.<br><br>             The remaining parameters are in conformance with 802.3at and are<br>             optional.  <u>type</u> should be either 1 or 2, indicating which if the<br>             device conforms to 802.3at type 1 or 802.3at type 2. Values ofr<br>             <u>source</u> and <u>priority</u> are the same as for <span class="caps">LLDP</span>-<span class="caps">MED</span> <span class="caps">POE</span>-<span class="caps">MDI</span> <span class="caps">TLV</span>.<br>             <u>requested</u> and <u>allocated</u> are expressed in milliwats.<br><br>             Here are two valid uses of this command:<br>                   configure ports eth3 dot3 power pse supported enabled<br>                   paircontrol powerpairs spare class 3<br>                   configure dot3 power pd supported enabled powerpairs spare<br>                   class 3 type 1 source pse priority low requested 10000<br>                   allocated 15000<br><br><br><b><span class="caps">FILES</span></b><br>     /var/run/lldpd.socket    Unix-domain socket used for communication with<br>                              lldpd(8).<br><br><b><span class="caps">SEE</span></b> <b><span class="caps">ALSO</span></b><br>     lldpd(8)<br><br><b><span class="caps">AUTHORS</span></b><br>     The <b>lldpcli</b> program was written by Vincent Bernat &lt;bernat@luffy.cx&gt;.<br><br><span class="caps">BSD</span>                            January 13, 2013                            <span class="caps">BSD</span><br></div>    </div>
  </article>

</body>
</html>